{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="text-center mt-4 mb-8">
    <h1 class="text-6xl font-black text-gray-900 dark:text-white mb-2">{{ time }}</h1>
    <p class="text-gray-500 text-lg">Tableau de bord principal</p>
</div>

<div class="grid grid-cols-1 justify-items-center">
    <div class="w-full max-w-4xl">

        <h5 class="uppercase text-gray-500 font-semibold mb-4 px-2 border-l-4 border-gray-400">
            Notifications & Alertes
        </h5>

        {% for alert in alerts %}
        <!-- Alert Card -->
        <!-- Mapping Bootstrap 'alert.type' to Tailwind Colors needs specific logic or inline styles. 
             Since data handles 'danger', 'success', 'primary', we can use conditional classes or 
             rely on the tailwind config extension we made (bg-danger, text-danger etc won't work automatically for backgrounds like bootstrap alert-variant).
             
             Bootstrap alert-danger is usually light red bg, dark red text.
        -->

        <div
            class="mb-4 rounded-lg shadow-sm bg-white dark:bg-gray-800 border-l-[6px] 
            {% if alert.type == 'danger' %}border-red-500{% elif alert.type == 'success' %}border-green-500{% elif alert.type == 'primary' %}border-blue-500{% else %}border-gray-500{% endif %}">

            <div class="p-4 flex items-center">

                <div
                    class="mr-6 
                    {% if alert.type == 'danger' %}text-red-500{% elif alert.type == 'success' %}text-green-500{% elif alert.type == 'primary' %}text-blue-500{% else %}text-gray-500{% endif %}">
                    <i class="bi {{ alert.icon }} text-4xl"></i>
                </div>

                <div class="flex-grow">
                    <h5
                        class="font-bold text-lg uppercase mb-1
                        {% if alert.type == 'danger' %}text-red-600{% elif alert.type == 'success' %}text-green-600{% elif alert.type == 'primary' %}text-blue-600{% else %}text-gray-600{% endif %}">
                        {{ alert.titre }}
                    </h5>
                    <p class="mb-0 text-gray-700 dark:text-gray-300">{{ alert.message }}</p>
                </div>

                {% if alert.action_link %}
                <div>
                    <a href="{{ alert.action_link }}" class="inline-block px-3 py-1 border rounded text-sm font-medium transition-colors
                        {% if alert.type == 'danger' %}border-red-500 text-red-500 hover:bg-red-500 hover:text-white
                        {% elif alert.type == 'success' %}border-green-500 text-green-500 hover:bg-green-500 hover:text-white
                        {% elif alert.type == 'primary' %}border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white
                        {% else %}border-gray-500 text-gray-500 hover:bg-gray-500 hover:text-white{% endif %}">
                        Voir
                    </a>
                </div>
                {% endif %}

            </div>
        </div>
        {% endfor %}

    </div>
</div>
{% endblock %}